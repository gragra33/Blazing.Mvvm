<?xml version="1.0" encoding="UTF-8" ?>
<Shell xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
       xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
       xmlns:local="clr-namespace:HybridSample.MAUI"
       x:Class="HybridSample.MAUI.AppShell"
       FlyoutBehavior="{OnIdiom Phone=Flyout, Tablet=Locked, Desktop=Locked}"
       FlyoutBackgroundColor="#1b6ec2"
       FlyoutWidth="250"
       Title="Blazing MVVM"
       Shell.NavBarIsVisible="{OnPlatform WinUI=False, MacCatalyst=False, Default=True}"
       Shell.TabBarIsVisible="False">

    <Shell.FlyoutHeader>
        <Grid BackgroundColor="#512BD4" HeightRequest="120" Padding="20">
            <Label Text="Blazing MVVM" TextColor="White" FontSize="24" FontAttributes="Bold" VerticalOptions="Center" />
        </Grid>
    </Shell.FlyoutHeader>

    <!-- Single ShellContent that hosts the MainPage with BlazorWebView -->
    <!-- Content is set programmatically in code-behind to maintain singleton instance -->
    <ShellContent x:Name="MainShellContent" Title="Content" />

    <!-- Menu Items for Navigation -->
    <Shell.FlyoutContent>
        <CollectionView SelectionMode="Single" SelectionChanged="OnMenuItemSelected">
            <CollectionView.ItemsSource>
                <x:Array Type="{x:Type x:String}">
                    <x:String>home</x:String>
                    <x:String>observeObj</x:String>
                    <x:String>relayCommand</x:String>
                    <x:String>asyncCommand</x:String>
                    <x:String>msg</x:String>
                    <x:String>sendMsg</x:String>
                    <x:String>ReqMsg</x:String>
                    <x:String>ioc</x:String>
                    <x:String>vmSetup</x:String>
                    <x:String>SettingsSvc</x:String>
                    <x:String>redditSvc</x:String>
                    <x:String>buildUI</x:String>
                    <x:String>reddit</x:String>
                </x:Array>
            </CollectionView.ItemsSource>
            <CollectionView.ItemTemplate>
                <DataTemplate x:DataType="x:String">
                    <Grid Padding="15,10" BackgroundColor="Transparent">
                        <Label Text="{Binding .}" TextColor="White" FontSize="16" VerticalOptions="Center" />
                    </Grid>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </Shell.FlyoutContent>

</Shell>
